<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nh√¢n Hai Ma Tr·∫≠n</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-indigo-100 via-purple-100 to-pink-100 min-h-screen p-6 font-sans">
  <div class="max-w-5xl mx-auto bg-white shadow-2xl rounded-2xl p-8">
    <h1 class="text-3xl font-bold text-center text-indigo-700 mb-6">üßÆ Nh√¢n Hai Ma Tr·∫≠n</h1>

    <!-- K√≠ch th∆∞·ªõc -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 text-sm">
      <div>
        <label class="block mb-1 text-gray-700 font-semibold">S·ªë h√†ng A</label>
        <input type="number" id="rowsA" class="w-full border rounded p-2" min="1">
      </div>
      <div>
        <label class="block mb-1 text-gray-700 font-semibold">S·ªë c·ªôt A</label>
        <input type="number" id="colsA" class="w-full border rounded p-2" min="1">
      </div>
      <div>
        <label class="block mb-1 text-gray-700 font-semibold">S·ªë h√†ng B</label>
        <input type="number" id="rowsB" class="w-full border rounded p-2" min="1">
      </div>
      <div>
        <label class="block mb-1 text-gray-700 font-semibold">S·ªë c·ªôt B</label>
        <input type="number" id="colsB" class="w-full border rounded p-2" min="1">
      </div>
    </div>

    <div class="text-center mb-6">
      <button onclick="generateMatrixInputs()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-6 py-2 rounded-lg transition">
        T·∫°o Ma Tr·∫≠n
      </button>
    </div>

    <!-- Nh·∫≠p ma tr·∫≠n -->
    <div id="matrixInputs" class="space-y-6"></div>

    <!-- K·∫øt qu·∫£ -->
    <div id="result" class="mt-10 text-center"></div>
  </div>

  <script>
    function generateMatrixInputs() {
      const m = parseInt(document.getElementById("rowsA").value);
      const n = parseInt(document.getElementById("colsA").value);
      const p = parseInt(document.getElementById("rowsB").value);
      const q = parseInt(document.getElementById("colsB").value);
      const container = document.getElementById("matrixInputs");
      const result = document.getElementById("result");

      container.innerHTML = '';
      result.innerHTML = '';

      if (isNaN(m) || isNaN(n) || isNaN(p) || isNaN(q)) {
        container.innerHTML = "<p class='text-red-500'>‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß k√≠ch th∆∞·ªõc ma tr·∫≠n.</p>";
        return;
      }

      if (n !== p) {
        container.innerHTML = "<p class='text-red-500'>‚ùå Kh√¥ng th·ªÉ nh√¢n: S·ªë c·ªôt A ph·∫£i b·∫±ng s·ªë h√†ng B.</p>";
        return;
      }

      container.innerHTML = `
        <h2 class="text-xl font-semibold text-indigo-600">Ma Tr·∫≠n A (${m}√ó${n})</h2>
        ${createMatrix('A', m, n)}
        <h2 class="text-xl font-semibold text-indigo-600 mt-4">Ma Tr·∫≠n B (${p}√ó${q})</h2>
        ${createMatrix('B', p, q)}
        <div class="text-center mt-6">
          <button onclick="calculate(${m}, ${n}, ${q})" class="bg-green-600 hover:bg-green-700 text-white font-bold px-6 py-2 rounded-lg transition">
            Nh√¢n Ma Tr·∫≠n
          </button>
        </div>
      `;
    }

    function createMatrix(id, rows, cols) {
      let html = `<div class="inline-block overflow-auto"><table class="mx-auto border border-gray-300">`;
      for (let i = 0; i < rows; i++) {
        html += "<tr>";
        for (let j = 0; j < cols; j++) {
          html += `<td><input type="number" id="${id}_${i}_${j}" class="w-16 text-center p-2 border border-gray-300"></td>`;
        }
        html += "</tr>";
      }
      html += "</table></div>";
      return html;
    }

    function calculate(m, n, q) {
      const A = [], B = [];

      for (let i = 0; i < m; i++) {
        A[i] = [];
        for (let j = 0; j < n; j++) {
          A[i][j] = parseFloat(document.getElementById(`A_${i}_${j}`).value) || 0;
        }
      }

      for (let i = 0; i < n; i++) {
        B[i] = [];
        for (let j = 0; j < q; j++) {
          B[i][j] = parseFloat(document.getElementById(`B_${i}_${j}`).value) || 0;
        }
      }

      const C = [];
      for (let i = 0; i < m; i++) {
        C[i] = [];
        for (let j = 0; j < q; j++) {
          let sum = 0;
          for (let k = 0; k < n; k++) {
            sum += A[i][k] * B[k][j];
          }
          C[i][j] = sum;
        }
      }

      displayResult(C);
    }

    function displayResult(matrix) {
      let html = `<h2 class="text-xl font-bold text-green-700 mb-3">K·∫øt qu·∫£ C = A √ó B</h2>`;
      html += `<div class="inline-block overflow-auto"><table class="mx-auto border border-gray-400 bg-green-50">`;
      for (let i = 0; i < matrix.length; i++) {
        html += "<tr>";
        for (let j = 0; j < matrix[0].length; j++) {
          html += `<td class="border border-gray-300 px-4 py-2 font-semibold">${matrix[i][j]}</td>`;
        }
        html += "</tr>";
      }
      html += "</table></div>";
      document.getElementById("result").innerHTML = html;
    }
  </script>
</body>
</html>